{"version":3,"file":"b5eba33c0f46a1c6fc7f.js","sources":["webpack:///./src/pages/marketplace/cart/index.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueNumericInput from '@/components/VueNumericInput'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  layout: 'marketplace',\n  components: {\n    VueNumericInput\n  },\n  computed: {\n    ...mapGetters({\n      user: 'user/user'\n    }),\n    subtotal() {\n      return _.sum(\n        _.map(this.selectedProducts, ({ quantity, price }) => price * quantity)\n      )\n    }\n  },\n  async mounted(){\n    await this.loadItems()\n  },\n  data() {\n    return {\n      isLoading: true,\n      products: [],\n      selectedProducts: []\n    }\n  },\n  methods: {\n    isSelected(product) {\n      return _.filter(this.selectedProducts, ({ variantId }) => product.variantId === variantId).length\n    },\n    async loadItems() {\n      this.isLoading = true\n      const cart = await this.$store.dispatch(\n        'marketplace/getCartOf',\n        this.user\n      )\n      this.products = cart.products\n      this.selectedProducts = cart.products\n      this.isLoading = false\n    },\n    removeProduct(product) {\n      this.products = _.filter(\n        this.products,\n        ({ variantId }) => variantId != product.variantId\n      )\n      this.selectedProducts = _.filter(\n        this.selectedProducts,\n        ({ variantId }) => variantId != product.variantId\n      )\n    },\n    reselectProducts({ e, product }) {\n      if (!e.target.checked) {\n        this.selectedProducts = _.filter(\n          this.selectedProducts,\n          ({ variantId }) => variantId != product.variantId\n        )\n        return\n      }\n      this.selectedProducts = [...this.selectedProducts, product]\n    },\n    checkout(){\n      this.$storage.setLocalStorage('products_to_checkout', JSON.stringify(this.selectedProducts))\n      this.$router.replace('/marketplace/cart/checkout')\n    }\n  }\n}\n"],"mappings":"AAAA","sourceRoot":""}