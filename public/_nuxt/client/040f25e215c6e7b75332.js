(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{619:function(t,e,r){var map={"./af":474,"./af.js":474,"./ar":475,"./ar-dz":476,"./ar-dz.js":476,"./ar-kw":477,"./ar-kw.js":477,"./ar-ly":478,"./ar-ly.js":478,"./ar-ma":479,"./ar-ma.js":479,"./ar-sa":480,"./ar-sa.js":480,"./ar-tn":481,"./ar-tn.js":481,"./ar.js":475,"./az":482,"./az.js":482,"./be":483,"./be.js":483,"./bg":484,"./bg.js":484,"./bm":485,"./bm.js":485,"./bn":486,"./bn.js":486,"./bo":487,"./bo.js":487,"./br":488,"./br.js":488,"./bs":489,"./bs.js":489,"./ca":490,"./ca.js":490,"./cs":491,"./cs.js":491,"./cv":492,"./cv.js":492,"./cy":493,"./cy.js":493,"./da":494,"./da.js":494,"./de":495,"./de-at":496,"./de-at.js":496,"./de-ch":497,"./de-ch.js":497,"./de.js":495,"./dv":498,"./dv.js":498,"./el":499,"./el.js":499,"./en-SG":500,"./en-SG.js":500,"./en-au":501,"./en-au.js":501,"./en-ca":502,"./en-ca.js":502,"./en-gb":503,"./en-gb.js":503,"./en-ie":504,"./en-ie.js":504,"./en-il":505,"./en-il.js":505,"./en-nz":506,"./en-nz.js":506,"./eo":507,"./eo.js":507,"./es":508,"./es-do":509,"./es-do.js":509,"./es-us":510,"./es-us.js":510,"./es.js":508,"./et":511,"./et.js":511,"./eu":512,"./eu.js":512,"./fa":513,"./fa.js":513,"./fi":514,"./fi.js":514,"./fo":515,"./fo.js":515,"./fr":516,"./fr-ca":517,"./fr-ca.js":517,"./fr-ch":518,"./fr-ch.js":518,"./fr.js":516,"./fy":519,"./fy.js":519,"./ga":520,"./ga.js":520,"./gd":521,"./gd.js":521,"./gl":522,"./gl.js":522,"./gom-latn":523,"./gom-latn.js":523,"./gu":524,"./gu.js":524,"./he":525,"./he.js":525,"./hi":526,"./hi.js":526,"./hr":527,"./hr.js":527,"./hu":528,"./hu.js":528,"./hy-am":529,"./hy-am.js":529,"./id":530,"./id.js":530,"./is":531,"./is.js":531,"./it":532,"./it-ch":533,"./it-ch.js":533,"./it.js":532,"./ja":534,"./ja.js":534,"./jv":535,"./jv.js":535,"./ka":536,"./ka.js":536,"./kk":537,"./kk.js":537,"./km":538,"./km.js":538,"./kn":539,"./kn.js":539,"./ko":540,"./ko.js":540,"./ku":541,"./ku.js":541,"./ky":542,"./ky.js":542,"./lb":543,"./lb.js":543,"./lo":544,"./lo.js":544,"./lt":545,"./lt.js":545,"./lv":546,"./lv.js":546,"./me":547,"./me.js":547,"./mi":548,"./mi.js":548,"./mk":549,"./mk.js":549,"./ml":550,"./ml.js":550,"./mn":551,"./mn.js":551,"./mr":552,"./mr.js":552,"./ms":553,"./ms-my":554,"./ms-my.js":554,"./ms.js":553,"./mt":555,"./mt.js":555,"./my":556,"./my.js":556,"./nb":557,"./nb.js":557,"./ne":558,"./ne.js":558,"./nl":559,"./nl-be":560,"./nl-be.js":560,"./nl.js":559,"./nn":561,"./nn.js":561,"./pa-in":562,"./pa-in.js":562,"./pl":563,"./pl.js":563,"./pt":564,"./pt-br":565,"./pt-br.js":565,"./pt.js":564,"./ro":566,"./ro.js":566,"./ru":567,"./ru.js":567,"./sd":568,"./sd.js":568,"./se":569,"./se.js":569,"./si":570,"./si.js":570,"./sk":571,"./sk.js":571,"./sl":572,"./sl.js":572,"./sq":573,"./sq.js":573,"./sr":574,"./sr-cyrl":575,"./sr-cyrl.js":575,"./sr.js":574,"./ss":576,"./ss.js":576,"./sv":577,"./sv.js":577,"./sw":578,"./sw.js":578,"./ta":579,"./ta.js":579,"./te":580,"./te.js":580,"./tet":581,"./tet.js":581,"./tg":582,"./tg.js":582,"./th":583,"./th.js":583,"./tl-ph":584,"./tl-ph.js":584,"./tlh":585,"./tlh.js":585,"./tr":586,"./tr.js":586,"./tzl":587,"./tzl.js":587,"./tzm":588,"./tzm-latn":589,"./tzm-latn.js":589,"./tzm.js":588,"./ug-cn":590,"./ug-cn.js":590,"./uk":591,"./uk.js":591,"./ur":592,"./ur.js":592,"./uz":593,"./uz-latn":594,"./uz-latn.js":594,"./uz.js":593,"./vi":595,"./vi.js":595,"./x-pseudo":596,"./x-pseudo.js":596,"./yo":597,"./yo.js":597,"./zh-cn":598,"./zh-cn.js":598,"./zh-hk":599,"./zh-hk.js":599,"./zh-tw":600,"./zh-tw.js":600};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=619},684:function(t,e,r){"use strict";var n=r(5),o=r(19),l={computed:Object(n.a)({},Object(o.b)({totalProfit:"user_dashboard/totalProfit"}))},c=r(7),component=Object(c.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex"},[e("div",{staticClass:"no-underline md:text-blue-dark flex items-center bg-primary rounded-full h-8 px-4 text-white text-sm leading-none"},[e("number",{ref:"profit",attrs:{to:this.totalProfit,format:function(t){return t.formatMoney("â‚± ")},duration:.4}})],1)])},[],!1,null,null,null);e.a=component.exports},860:function(t,e,r){"use strict";r.r(e);var n=r(5),o=(r(15),r(1)),l=r(19),c=r(459),d=r.n(c),m=r(684),f={layout:"user_dashboard",components:{VueTailwindModal:r(52).a,TotalProfitCounter:m.a},mounted:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("user_dashboard/getPayoutsOf",this.user);case 2:return t.next=4,this.$store.dispatch("user_dashboard/getTotalProfitOf",this.user);case 4:this.isLoading=!1;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{isLoading:!0,isConfirmationLoading:!1,editingPayout:null,recipientData:{id:null,name:null,mobile:null,amount:0}}},computed:Object(n.a)({},Object(l.b)({payouts:"user_dashboard/payouts",user:"user/user",totalProfit:"user_dashboard/totalProfit"}),{computedTotalProfit:function(){return this.editingPayout&&this.editingPayout.id?this.totalProfit+this.editingPayout.amount:this.totalProfit}}),methods:{showRequestPayoutModal:function(){this.recipientData={id:null,name:null,mobile:null,amount:0},this.$refs.requestPayoutModal.show()},cancelRequest:function(){var t=this;this.$refs.requestPayoutModal.hide(),this.$nextTick(function(){t.editingPayout=null,t.recipientData={id:null,name:null,mobile:null,amount:0}})},sendRequest:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll("recipientForm");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:this.$refs.requestPayoutModal.hide(),this.$refs.requestPayoutConfirmationModal.show();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancelPayoutConfirmation:function(){this.$refs.requestPayoutConfirmationModal.hide(),this.$refs.requestPayoutModal.show()},formatTimestamp:function(t){return d()(t.toDate()).format("MMMM Do YYYY, h:mm:ss a")},confirmPayoutRequest:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isConfirmationLoading){t.next=2;break}return t.abrupt("return");case 2:return this.isConfirmationLoading=!0,t.next=5,this.$store.dispatch("user_dashboard/sendPayoutRequest",{user:this.user,payout:this.recipientData});case 5:if(e=t.sent,this.isConfirmationLoading=!1,e.status){t.next=12;break}return this.$refs.requestPayoutConfirmationModal.hide(),this.$refs.requestPayoutModal.show(),this.$toast.error(e.message||"Your payout request has failed.",{position:"top"}),t.abrupt("return");case 12:this.editingPayout=null,this.$refs.requestPayoutConfirmationModal.hide(),this.$toast.success("Your payout request has been sent successfully.",{position:"top"});case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showEditPayout:function(t){this.editingPayout=JSON.parse(JSON.stringify(t)),this.recipientData=JSON.parse(JSON.stringify(t)),this.$refs.requestPayoutModal.show()},cancelCancellationConfirmation:function(){var t=this;this.$validator.reset(),this.$refs.payoutCancellationModal.hide(),this.$nextTick(function(){t.recipientData={id:null,name:null,mobile:null,amount:0}})},showCancellationConfirmation:function(t){this.recipientData=t,this.$refs.payoutCancellationModal.show()},cancelPayout:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isConfirmationLoading){t.next=2;break}return t.abrupt("return");case 2:return this.isConfirmationLoading=!0,t.next=5,this.$store.dispatch("user_dashboard/cancelPayout",{user:this.user,payout:this.recipientData});case 5:if(e=t.sent,this.isConfirmationLoading=!1,e.status){t.next=10;break}return this.$toast.error(e.message||"Your payout cancellation has failed. Please try again.",{position:"top"}),t.abrupt("return");case 10:this.recipientData={id:null,name:null,mobile:null,amount:0},this.$refs.payoutCancellationModal.hide(),this.$toast.success("Your payout request has been cancelled successfully.",{position:"top"});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},v=r(7),component=Object(v.a)(f,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative"},[t.isLoading?r("AreaLoader"):t._e(),t._v(" "),r("VueTailwindModal",{ref:"requestPayoutModal",attrs:{width:"30%","content-class":"rounded-none shadow-none text-gray-600",backdrop:!1}},[r("div",{staticClass:"flex flex-col h-full"},[r("div",{staticClass:"modal-heading border-b w-full p-4"},[r("div",{staticClass:"flex justify-between w-full items-center"},[r("div",{staticClass:"flex uppercase"},[r("strong",[t._v("REQUEST PAYOUT")])])])]),t._v(" "),r("div",{staticClass:"flex modal-body flex-col flex-grow p-4"},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"font-bold mr-4 mt-2",attrs:{for:"complete_name"}},[t._v("Complete Name")]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.recipientData.name,expression:"recipientData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":t.errors.has("recipientForm.complete_name"),"focus:border-gray-600":!t.errors.has("recipientForm.complete_name")},attrs:{name:"complete_name",type:"text",placeholder:"Your Complete Name","data-vv-as":"Complete Name","data-vv-scope":"recipientForm"},domProps:{value:t.recipientData.name},on:{input:function(e){e.target.composing||t.$set(t.recipientData,"name",e.target.value)}}})]),t._v(" "),t.errors.has("recipientForm.complete_name")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[t._v(t._s(t.errors.first("recipientForm.complete_name")))]):t._e()]),t._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"font-bold mr-4 mt-2",attrs:{for:"mobile_number"}},[t._v("Mobile Number")]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.recipientData.mobile,expression:"recipientData.mobile"},{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":t.errors.has("recipientForm.mobile_number"),"focus:border-gray-600":!t.errors.has("recipientForm.mobile_number")},attrs:{name:"mobile_number",type:"text",placeholder:"Your Mobile Number","data-vv-as":"Mobile Number","data-vv-scope":"recipientForm"},domProps:{value:t.recipientData.mobile},on:{input:function(e){e.target.composing||t.$set(t.recipientData,"mobile",e.target.value)}}})]),t._v(" "),t.errors.has("recipientForm.mobile_number")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[t._v(t._s(t.errors.first("recipientForm.mobile_number")))]):t._e()]),t._v(" "),r("div",[r("label",{staticClass:"font-bold mr-4 mt-2",attrs:{for:"amount"}},[t._v("Amount (PHP)")]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.recipientData.amount,expression:"recipientData.amount",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:0|max_value:"+t.computedTotalProfit,expression:"`required|numeric|min_value:0|max_value:${computedTotalProfit}`"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":t.errors.has("recipientForm.amount"),"focus:border-gray-600":!t.errors.has("recipientForm.amount")},attrs:{name:"amount",type:"number",placeholder:"Your Amount","data-vv-as":"Amount","data-vv-scope":"recipientForm"},domProps:{value:t.recipientData.amount},on:{input:function(e){e.target.composing||t.$set(t.recipientData,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.errors.has("recipientForm.amount")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[t._v(t._s(t.errors.first("recipientForm.amount")))]):t._e()])]),t._v(" "),r("div",{staticClass:"flex modal-footer justify-between flex-shrink p-4 border-t items-center"},[r("PTButton",{attrs:{color:"default"},on:{click:t.cancelRequest}},[t._v("CANCEL")]),t._v(" "),r("PTButton",{attrs:{color:"primary"},on:{click:t.sendRequest}},[t._v("REQUEST")])],1)])]),t._v(" "),r("VueTailwindModal",{ref:"requestPayoutConfirmationModal",attrs:{width:"30%","content-class":"rounded-none shadow-none text-gray-600",backdrop:!1}},[r("div",{staticClass:"flex flex-col relative"},[t.isConfirmationLoading?r("AreaLoader"):t._e(),t._v(" "),r("div",{staticClass:"modal-heading border-b w-full p-4"},[r("div",{staticClass:"flex justify-center w-full items-center"},[r("div",{staticClass:"flex uppercase"},[r("strong",[t._v("CONFIRM PAYOUT REQUEST")])])])]),t._v(" "),r("div",{staticClass:"flex modal-body flex-col flex-grow p-4"},[r("div",[r("span",{staticClass:"font-bold"},[t._v("Complete Name:")]),t._v("\n          "+t._s(t.recipientData.name)+"\n        ")]),t._v(" "),r("div",[r("span",{staticClass:"font-bold"},[t._v("Mobile Number:")]),t._v("\n          "+t._s(t.recipientData.mobile)+"\n        ")]),t._v(" "),r("div",[r("span",{staticClass:"font-bold"},[t._v("Amount (PHP):")]),t._v("\n          "+t._s(t.recipientData.amount)+"\n        ")])]),t._v(" "),r("div",{staticClass:"flex modal-footer justify-between flex-shrink p-4 border-t items-celex modal-footer justify-center flex-shrink p-4 border-t nter"},[r("PTButton",{on:{click:t.cancelPayoutConfirmation}},[t._v("CANCEL")]),t._v(" "),r("PTButton",{attrs:{color:"primary"},on:{click:t.confirmPayoutRequest}},[t._v("CONFIRM")])],1)],1)]),t._v(" "),r("VueTailwindModal",{ref:"payoutCancellationModal",attrs:{width:"30%","content-class":"rounded-none shadow-none text-gray-600",backdrop:!1}},[r("div",{staticClass:"flex flex-col relative"},[t.isConfirmationLoading?r("AreaLoader"):t._e(),t._v(" "),r("div",{staticClass:"modal-heading border-b w-full p-4"},[r("div",{staticClass:"flex justify-center w-full items-center"},[r("div",{staticClass:"flex uppercase"},[r("strong",[t._v("CONFIRM PAYOUT CANCELLATION")])])])]),t._v(" "),r("div",{staticClass:"flex modal-body flex-col flex-grow p-4"},[t._v("\n        Are you sure that you want to cancel this request?\n      ")]),t._v(" "),r("div",{staticClass:"flex modal-footer justify-between flex-shrink p-4 border-t items-celex modal-footer justify-center flex-shrink p-4 border-t nter"},[r("PTButton",{on:{click:t.cancelCancellationConfirmation}},[t._v("NO")]),t._v(" "),r("PTButton",{attrs:{color:"primary"},on:{click:t.cancelPayout}},[t._v("YES")])],1)],1)]),t._v(" "),r("div",{staticClass:"my-2 flex justify-between items-center"},[r("div",[r("nuxt-link",{staticClass:"text-xs text-blue-500 hover:text-blue-700",attrs:{to:"/dashboard/collections"}},[r("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("Back")])],1),t._v(" "),r("h2",{staticClass:"text-2xl font-semibold leading-tight"},[t._v("Payout")])],1),t._v(" "),r("PTButton",{attrs:{color:"primary"},on:{click:t.showRequestPayoutModal}},[r("span",{staticClass:"mr-2"},[r("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1),t._v(" "),r("span",[t._v("Request Payout")])])],1),t._v(" "),r("div",{staticClass:"flex justify-end flex-grow"},[r("TotalProfitCounter")],1),t._v(" "),r("div",{staticClass:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},[r("div",{staticClass:"inline-block min-w-full border-l border-r overflow-hidden"},[r("table",{staticClass:"min-w-full leading-normal table-fixed"},[t._m(0),t._v(" "),r("tbody",[t.payouts.length?t._e():r("tr",[r("td",{staticClass:"text-xl text-gray-600 px-5 py-5 border-b border-gray-200 bg-white text-sm text-center",attrs:{colspan:"3"}},[t._v("You have no payout(s).")])]),t._v(" "),t._l(t.payouts,function(e){return r("tr",{key:e.id},[r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-left"},[r("div",{staticClass:"text-gray-900 whitespace-no-wrap"},[t._v(t._s(t.formatTimestamp(e.created_at)))])]),t._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},[r("div",[r("span",{staticClass:"font-bold"},[t._v("Complete Name:")]),t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),r("div",[r("span",{staticClass:"font-bold"},[t._v("Mobile Number:")]),t._v("\n                  "+t._s(e.mobile)+"\n                ")]),t._v(" "),r("div",[r("span",{staticClass:"font-bold"},[t._v("Amount (PHP):")]),t._v("\n                  "+t._s(e.amount)+"\n                ")])]),t._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},[r("span",{staticClass:"relative inline-block px-3 py-1 font-semibold leading-tight text-xs uppercase text-gray-800 rounded-full",class:{"bg-red-200":"declined"===e.status||"cancelled"===e.status,"bg-blue-200":"pending"===e.status,"bg-green-200":"paid"===e.status,"bg-yellow-200":"processing"===e.status}},[t._v(t._s(e.status))])]),t._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},["pending"===e.status?r("div",[r("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0},expression:"{arrow: true}"}],staticClass:"px-2 py-1 text-xs hover:bg-gray-200 border rounded mx-1",attrs:{type:"button",title:"Cancel Request"},on:{click:function(r){return t.showCancellationConfirmation(e)}}},[r("font-awesome-icon",{attrs:{icon:["fas","times"]}}),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("CANCEL")])],1),t._v(" "),r("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0},expression:"{arrow: true}"}],staticClass:"px-2 py-1 text-xs hover:bg-gray-200 border rounded mx-1",attrs:{type:"button",title:"Edit Recipient"},on:{click:function(r){return t.showEditPayout(e)}}},[r("font-awesome-icon",{attrs:{icon:["fas","edit"]}}),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("EDIT")])],1)]):t._e()])])})],2)])])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-left"},[this._v("Requested At")]),this._v(" "),e("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-left"},[this._v("Recipient")]),this._v(" "),e("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("Status")]),this._v(" "),e("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("Actions")])])])}],!1,null,null,null);e.default=component.exports}}]);