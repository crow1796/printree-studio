(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{868:function(e,t,r){"use strict";r.r(t);var o=r(5),n=(r(15),r(1)),l=r(19),d={layout:"admin_dashboard",components:{VueTailwindModal:r(52).a},created:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("admin/getUsers");case 3:this.isLoading=!1,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),data:function(){return{isLoading:!0,formData:{email:null,displayName:null,password:null,role:"customer"}}},computed:Object(o.a)({},Object(l.b)({users:"admin/users"})),methods:{addNewUser:function(){this.formData={email:null,displayName:null,password:null,role:"customer"},this.$refs.userFormModal.show()},submitForm:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.formData.uid){e.next=7;break}return this.isLoading=!0,this.$refs.userFormModal.hide(),e.next=5,this.$store.dispatch("admin/updateUser",this.formData);case 5:return this.isLoading=!1,e.abrupt("return");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),editUser:function(e){this.formData=JSON.parse(JSON.stringify(e)),this.$refs.userFormModal.show()}}},m=r(7),component=Object(m.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sm:px-8 relative"},[e.isLoading?r("AreaLoader"):e._e(),e._v(" "),r("VueTailwindModal",{ref:"userFormModal",attrs:{width:"30%"}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("div",{staticClass:"text-xl font-bold mb-2"},[e._v(e._s(e.formData.uid?"EDIT":"ADD NEW")+" USER")]),e._v(" "),r("div",{staticClass:"mb-3 mt-2"},[r("label",{staticClass:"font-bold",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.displayName,expression:"formData.displayName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":e.errors.has("name"),"focus:border-gray-600":!e.errors.has("name")},attrs:{name:"name",type:"text",placeholder:"Name","data-vv-as":"Name"},domProps:{value:e.formData.displayName},on:{input:function(t){t.target.composing||e.$set(e.formData,"displayName",t.target.value)}}})]),e._v(" "),e.errors.has("name")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[e._v(e._s(e.errors.first("name")))]):e._e()]),e._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"font-bold",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.email,expression:"formData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":e.errors.has("email"),"focus:border-gray-600":!e.errors.has("email")},attrs:{name:"email",type:"text",placeholder:"email@example.com","data-vv-as":"Email"},domProps:{value:e.formData.email},on:{input:function(t){t.target.composing||e.$set(e.formData,"email",t.target.value)}}})]),e._v(" "),e.errors.has("email")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[e._v(e._s(e.errors.first("email")))]):e._e()]),e._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"font-bold",attrs:{for:"pass"}},[e._v("Password")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"},{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":e.errors.has("pass"),"focus:border-gray-600":!e.errors.has("pass")},attrs:{type:"password",name:"pass",placeholder:"Password","data-vv-as":"Password"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),e._v(" "),e.errors.has("pass")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[e._v(e._s(e.errors.first("pass")))]):e._e()]),e._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"font-bold",attrs:{for:"pass"}},[e._v("Role")]),e._v(" "),r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.role,expression:"formData.role"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full py-2 px-3 border rounded focus:outline-none outline-none",class:{"border-red-400":e.errors.has("pass"),"focus:border-gray-600":!e.errors.has("pass")},attrs:{name:"role",id:"role","data-vv-as":"Role"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.formData,"role",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"customer"}},[e._v("User")]),e._v(" "),r("option",{attrs:{value:"admin"}},[e._v("Admin")]),e._v(" "),r("option",{attrs:{value:"support"}},[e._v("Support")])])]),e._v(" "),e.errors.has("role")?r("span",{staticClass:"text-red-700 text-xs pt-1 font-bold inline-block"},[e._v(e._s(e.errors.first("role")))]):e._e()]),e._v(" "),r("div",{staticClass:"mb-3"},[r("button",{staticClass:"w-full items-center justify-center focus:outline-none outline-none flex flex-grow border px-3 py-2 font-bold rounded text-white border-white bg-primary hover:bg-primary-lighter"},[e._v("CREATE")])])])]),e._v(" "),r("div",[r("div",{staticClass:"my-2 flex sm:flex-row justify-between items-center"},[r("h2",{staticClass:"text-2xl font-semibold leading-tight"},[e._v("Users")]),e._v(" "),r("button",{staticClass:"border px-8 py-2 font-bold rounded outline-none focus:outline-none border-white bg-primary text-white hover:bg-primary-lighter",attrs:{type:"button"},on:{click:e.addNewUser}},[e._v("Add New User")])]),e._v(" "),r("div",{staticClass:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},[r("div",{staticClass:"inline-block min-w-full border-l border-r overflow-hidden"},[r("table",{staticClass:"min-w-full leading-normal table-fixed"},[e._m(0),e._v(" "),r("tbody",e._l(e.users,function(t){return r("tr",{key:t.id},[r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},[r("div",{staticClass:"flex items-center justify-center"},[r("div",{staticClass:"ml-3"},[r("p",{staticClass:"text-gray-900 whitespace-no-wrap text-center"},[r("a",{staticClass:"text-blue-600 hover:underline",attrs:{href:"#"}},[r("span",[e._v(e._s(t.uid))])])])])])]),e._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},[e._v(e._s(t.email))]),e._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},[e._v(e._s(t.displayName))]),e._v(" "),r("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-center"},[r("div",[r("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0},expression:"{arrow: true}"}],staticClass:"px-2 py-1 text-xs hover:bg-gray-200 border rounded mx-1",attrs:{type:"button",title:"Edit"},on:{click:function(r){return e.editUser(t)}}},[r("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),e._v(" "),r("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0},expression:"{arrow: true}"}],staticClass:"px-2 py-1 text-xs hover:bg-gray-200 border rounded mx-1",attrs:{type:"button",title:"Delete"}},[r("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])])}),0)])])])])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("UID")]),this._v(" "),t("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("Email")]),this._v(" "),t("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("Display Name")]),this._v(" "),t("th",{staticClass:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[this._v("Actions")])])])}],!1,null,null,null);t.default=component.exports}}]);